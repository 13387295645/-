"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[140],{1140:function(e,t,a){a.r(t),a.d(t,{default:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{margin:"10px 0"}},[t("el-input",{staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"请输入用户名",clearable:"","suffix-icon":"el-icon-user"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("el-button",{staticClass:"ml-5",attrs:{type:"primary"},on:{click:e.load}},[t("i",{staticClass:"el-icon-search"}),e._v("搜索")]),t("el-button",{attrs:{type:"warning"},on:{click:e.reset}},[t("i",{staticClass:"el-icon-refresh"}),e._v("刷新")])],1),t("div",{staticStyle:{margin:"10px 0"}},[t("el-popconfirm",{staticClass:"ml-5",attrs:{"confirm-button-text":"确认","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"确定批量删除这些信息吗？"},on:{confirm:e.delBatch}},[t("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[t("i",{staticClass:"el-icon-remove-outline"}),e._v("删除")])],1)],1),t("el-table",{attrs:{data:e.tableData,border:"",stripe:"","header-cell-class-name":e.headerBg},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{prop:"name",label:"请假人姓名"}}),t("el-table-column",{attrs:{prop:"content",label:"请假理由"}}),t("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),t("el-table-column",{attrs:{prop:"startDate",label:"请假起始日期"}}),t("el-table-column",{attrs:{prop:"endDate",label:"请假结束日期"}}),t("el-table-column",{attrs:{prop:"img",label:"详情图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.row.img,"preview-src-list":[e.row.img]}})]}}])}),t("el-table-column",{attrs:{prop:"state",label:"进度"}}),t("el-table-column",{attrs:{label:"审核",width:"240"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"success",disabled:"待审核"!==a.row.state},on:{click:function(t){return e.changeState(a.row,"审核通过...你可以滚回去了")}}},[e._v("审核通过")]),t("el-button",{attrs:{type:"danger",disabled:"待审核"!==a.row.state},on:{click:function(t){return e.changeState(a.row,"审核不通过...就不让你过嘿嘿")}}},[e._v("审核不通过")])]}}])})],1),t("div",{staticStyle:{padding:"10px 0"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,15],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},s=[],r=(a(4114),{name:"Leaverecords",data(){return{tableData:[],total:0,pageNum:1,pageSize:5,name:"",form:{},multipleSelection:[],headerBg:"headerBg",roles:[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}}},created(){this.load()},methods:{load:function(){this.request.get("/leaverecords/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name}}).then((e=>{this.tableData=e.data.records,this.total=e.data.total})),this.request.get("/role").then((e=>{this.roles=e.data}))},home(){this.$router.push("/")},save(){this.request.post("/leaverecords",this.form).then((e=>{"200"===e.code?(this.$message.success("审核成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))},handleAdd(){this.dialogFormVisible=!0,this.form={}},handleEdit(e){this.form=e,this.dialogFormVisible=!0},handleSelectionChange(e){console.log(e),this.multipleSelection=e},delBatch(){let e=this.multipleSelection.map((e=>e.id));this.request.post("/leaverecords/del/batch",e).then((e=>{"200"===e.code?(this.$message.success("删除信息成功"),this.load()):this.$message.error("删除信息失败")}))},reset(){this.username="",this.load()},handleSizeChange(e){console.log(e),this.pageSize=e,this.load()},handleCurrentChange(e){console.log(e),this.pageNum=e,this.load()},changeState(e,t){this.form=JSON.parse(JSON.stringify(e)),this.form.state=t,this.save()}}}),i=r,o=a(1656),n=(0,o.A)(i,l,s,!1,null,null,null),c=n.exports}}]);
//# sourceMappingURL=140.6bbd7de6.js.map